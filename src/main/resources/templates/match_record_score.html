<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>점수 입력 | Match-Up</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/styles.css}">
</head>
<body>

<div class="container mt-4">
    <h3 class="mb-4">점수 입력</h3>

    <!-- 팀 없음 -->
    <div th:if="${noTeam}">
        <div class="alert alert-warning">사용자가 속한 팀이 없습니다.</div>
    </div>

    <!-- 팀 있을 때 -->
    <div th:unless="${noTeam}">
        <h5 class="mb-4">내 팀: <span th:text="${team.name}">팀 이름</span></h5>

        <div class="card">
            <div class="card-header">경기 정보</div>
            <div class="card-body">
                <form th:action="@{/team/records/score}" th:object="${recordForm}" method="post">

                    <input type="hidden" th:field="*{id}"/>
                    <input type="hidden" th:field="*{matchId}"/>

                    <div class="row g-3 mb-3">
                        <!-- 상대 팀 이름 -->
                        <div class="col-md-4">
                            <label class="form-label">상대 팀 이름</label>
                            <input type="text" class="form-control"
                                   th:field="*{team2Name}" placeholder="상대 팀 이름">
                            <input type="hidden" th:field="*{team2Id}"/>
                        </div>

                        <!-- 우리 팀 점수 -->
                        <div class="col-md-4">
                            <label class="form-label">우리 팀 점수</label>
                            <input type="number" class="form-control" th:field="*{team1Score}">
                        </div>

                        <!-- 상대 팀 점수 -->
                        <div class="col-md-4">
                            <label class="form-label">상대 팀 점수</label>
                            <input type="number" class="form-control" th:field="*{team2Score}">
                        </div>
                    </div>

                    <div class="row g-3 mb-3">
                        <div class="col-md-4">
                            <label class="form-label">경기 날짜</label>
                            <input type="date" class="form-control" th:field="*{matchDate}" readonly>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">경기 시간</label>
                            <input type="time" class="form-control" th:field="*{matchTime}" readonly>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">장소</label>
                            <input type="text" class="form-control" th:field="*{place}" readonly>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">경기 요약 (선택)</label>
                        <textarea class="form-control" rows="3"
                                  th:field="*{summary}"
                                  placeholder="경기 내용, 주요 득점 상황 등을 적어 주세요."></textarea>
                    </div>

                    <div class="text-end">
                        <a href="/team/records" class="btn btn-secondary me-2">목록으로</a>
                        <button type="submit" class="btn btn-primary">저장</button>
                    </div>

                </form>
            </div>
        </div>

    </div> <!-- /팀 있을 때 -->
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
