<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Match-Up</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/style.css"/>
</head>
<body>

<!-- ====================== -->
<!-- 🔝 상단 유틸바 + 알림 -->
<!-- ====================== -->
<div class="topbar bg-dark text-white small py-1">
    <div class="container d-flex justify-content-end align-items-center gap-3">

        <!-- 🔔 알림 드롭다운 -->
        <div class="dropdown position-relative">
            <a class="text-white text-decoration-none" href="#"
               id="notiDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-bell-fill fs-5"></i>

                <!-- (선택) 안 읽은 알림 빨간 점 -->
                <span class="noti-dot"></span>
            </a>

            <ul class="dropdown-menu dropdown-menu-end shadow-sm" aria-labelledby="notiDropdown">
                <li class="dropdown-header fw-semibold">최근 알림</li>

                <!-- 알림 없을 때 -->
                <li th:if="${#lists.isEmpty(recentNotifications)}"
                    class="dropdown-item text-muted">
                    알림이 없습니다.
                </li>

                <!-- 알림 있을 때 -->
                <li th:each="noti : ${recentNotifications}">
                    <a class="dropdown-item small" th:href="@{/notifications}">
                        <span th:text="${noti.content}">매치 신청이 도착했습니다.</span><br>
                        <small class="text-muted"
                               th:text="${#temporals.format(noti.createdAt, 'MM-dd HH:mm')}">
                            03-01 13:20
                        </small>
                    </a>
                </li>

                <li><hr class="dropdown-divider"></li>

                <li>
                    <a class="dropdown-item text-center fw-semibold small"
                       th:href="@{/notifications}">
                        모든 알림 보기
                    </a>
                </li>
            </ul>
        </div>

        <!-- 유틸 메뉴 -->
        <a href="/" class="link-light text-decoration-none">홈</a>
        <a href="/profile" class="link-light text-decoration-none">내 정보</a>
        <a href="/logout" class="link-light text-decoration-none">로그아웃</a>
    </div>
</div>

<!-- ====================== -->
<!-- 헤더 + 상단 메뉴 -->
<!-- ====================== -->
<header class="app-header">
    <div class="container py-3">

        <!-- 로고 -->
        <div class="d-flex align-items-center justify-content-between">
            <a class="brand m-0 text-decoration-none" href="/">Match-Up</a>
        </div>

        <!-- 상단 메뉴 -->
        <nav class="mt-3">
            <ul class="nav main-nav border-top pt-2">

                <!-- 팀 (드롭다운) -->
                <li class="nav-item dropdown">
                    <a class="nav-link px-4 fw-semibold main-nav-link dropdown-toggle"
                       href="#"
                       id="teamMenu"
                       role="button"
                       data-bs-toggle="dropdown"
                       aria-expanded="false">
                        팀
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="teamMenu">
                        <li><a class="dropdown-item" href="/team/board">팀 게시판</a></li>
                        <li><a class="dropdown-item" href="/team/members">팀 멤버</a></li>
                        <li><a class="dropdown-item" href="/team/schedule">일정표</a></li>
                        <li><a class="dropdown-item" href="/team/records">경기 기록</a></li>
                    </ul>
                </li>

                <!-- 커뮤니티 -->
                <li class="nav-item">
                    <a class="nav-link px-4 fw-semibold main-nav-link"
                       href="/board/list?category=FREE">
                        커뮤니티
                    </a>
                </li>

                <!-- 매치 신청 -->
                <li class="nav-item">
                    <a class="nav-link px-4 fw-semibold main-nav-link"
                       href="/match/apply">
                        매치 신청
                    </a>
                </li>

            </ul>
        </nav>
    </div>
</header>

<!-- ====================== -->
<!-- 메인 컨텐츠 -->
<!-- ====================== -->
<main class="app-main">

    <!-- ===== 앞으로 있을 매치 / 신청 가능 매치 ===== -->
    <section class="section-gap">
        <div class="container">
            <div class="row g-4">

                <!-- 앞으로 있을 매치 -->
                <div class="col-lg-8">
                    <div class="app-card next-match-card">
                        <div class="next-match-header">
                            <div class="section-title mb-0">
                                앞으로 있을 매치
                                <span class="badge bg-primary-subtle text-primary">다가오는 경기</span>
                            </div>
                            <a href="/events" class="btn btn-outline-primary-soft btn-sm">전체보기</a>
                        </div>

                        <div class="next-match-main">
                            <div class="team-vs">
                                <div class="team-pill">
                                    <div class="team-pill-logo">풋또라이</div>
                                    <div class="team-pill-name">풋또라이</div>
                                    <div class="team-stat">0전 0승 0무 0패</div>
                                </div>

                                <div class="vs-text">VS</div>

                                <div class="team-pill">
                                    <div class="team-pill-logo">문돌이</div>
                                    <div class="team-pill-name">문돌이</div>
                                    <div class="team-stat">0전 0승 0무 0패</div>
                                </div>
                            </div>

                            <div class="d-flex flex-column justify-content-between gap-3">
                                <div class="match-meta">
                                    <div><strong>장소</strong> : 충북대학교 대운동장</div>
                                    <div><strong>날짜</strong> : 2025-03-28</div>
                                    <div><strong>시간</strong> : 09:40</div>
                                </div>
                                <div class="next-match-actions">
                                    <a href="#" class="btn btn-outline-primary-soft btn-sm">매치 상세</a>
                                    <a href="#" class="btn btn-primary btn-sm btn-primary-pill">라인업 보기</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 신청 가능 매치 -->
                <div class="col-lg-4">
                    <div class="app-card p-3 h-100">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h2 class="section-title mb-0">신청 가능 매치</h2>
                            <a href="/match/apply" class="btn btn-outline-primary-soft btn-sm">바로가기</a>
                        </div>

                        <ul class="simple-list">
                            <li>
                                <a href="/board/201">
                                    9월 27일 성남수진축구장 - 상대팀 구합니다...
                                </a>
                                <span class="meta">25-09-26</span>
                            </li>
                            <li>
                                <a href="/board/202">경기도 고양시 팀 가입 희망합니다</a>
                                <span class="meta">25-08-23</span>
                            </li>
                            <li>
                                <a href="/board/203">청주에서 주말 팀 구합니다(금요일)</a>
                                <span class="meta">25-05-21</span>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- ===== 통합 게시판 / 전체 팀 목록 ===== -->
    <section class="section-gap">
        <div class="container">
            <div class="row g-4">

                <!-- 통합 게시판 -->
                <div class="col-lg-6">
                    <div class="app-card p-3 h-100">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h2 class="section-title mb-0">통합 게시판</h2>
                            <a href="/board/list?category=FREE"
                               class="btn btn-outline-primary-soft btn-sm">바로가기</a>
                        </div>

                        <ul class="simple-list">
                            <li>
                                <a href="/board/201">9월 27일 성남수진축구장</a>
                                <span class="meta">25-09-26</span>
                            </li>
                            <li>
                                <a href="/board/202">경기 신청</a>
                                <span class="meta">25-08-23</span>
                            </li>
                            <li>
                                <a href="/board/203">청주에서 주말 팀 구합니다(금요일)</a>
                                <span class="meta">25-05-21</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- 전체 팀 목록 -->
                <div class="col-lg-6">
                    <div class="app-card p-3 h-100">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <h2 class="section-title mb-0">전체 팀 목록</h2>
                            <a href="/team_list" class="btn btn-outline-primary-soft btn-sm">바로가기</a>
                        </div>

                        <ul class="simple-list">
                            <li>
                                <a href="/team/1">
                                    Sunday FC 같이 즐겁게 운동하실 분 모집합니다.
                                </a>
                                <span class="meta">25-09-02</span>
                            </li>
                            <li>
                                <a href="/team/2">
                                    대구 신생 풋살 팀원 모집(일요일 오전)
                                </a>
                                <span class="meta">25-06-30</span>
                            </li>
                            <li>
                                <a href="/team/3">
                                    경기 참관 팀원 또는 상대팀 모집합니다.
                                </a>
                                <span class="meta">25-06-23</span>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </section>


</main>

<!-- ====================== -->
<!-- 푸터 -->
<!-- ====================== -->
<footer class="app-footer">
    <div class="container small d-flex flex-wrap justify-content-between gap-2">
        <span>© 2025 Match-Up</span>
        <span class="text-muted">
            문의: support@matchup.com
        </span>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
