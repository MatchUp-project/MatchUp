<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>게시글 상세</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container py-5">

    <h2 th:text="${board.title}"></h2>

    <div class="text-muted mb-3">
        작성자: <span th:text="${board.userId}"></span>
        · 조회수: <span th:text="${board.viewCount}"></span>
        · 작성일: <span th:text="${#temporals.format(board.createdAt, 'yyyy-MM-dd HH:mm')}"></span>
    </div>

    <hr>

    <p th:text="${board.content}" style="white-space: pre-line"></p>

    <div class="mt-4">
        <a href="/board" class="btn btn-secondary">목록</a>

        <button class="btn btn-outline-danger"
                onclick="likeBoard()">
            👍 좋아요
        </button>
    </div>

</div>

<script>
    function likeBoard(){
        fetch("/api/board/like/" + "[[${board.id}]]", {
            method: "POST"
        }).then(() => location.reload());
    }
</script>
</body>
</html>
