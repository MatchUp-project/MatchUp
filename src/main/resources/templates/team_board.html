<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>팀 게시판 | Match-Up</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css"/>

    <style>
        /* 왼쪽 팀 메뉴 */
        .side-menu {
            width: 200px;
            background: #ffffff;
            border-right: 1px solid #ddd;
            padding: 20px 0;
        }

        .side-menu .menu-item {
            padding: 12px 20px;
            cursor: pointer;
        }

        .side-menu .menu-item.active {
            background-color: #0d6efd;
            color: #fff;
            font-weight: 600;
        }

        .side-menu .menu-item:not(.active):hover {
            background-color: #f1f3f5;
        }

        /* 오른쪽 본문 */
        .main-content {
            margin-left: 200px;          /* 왼쪽 메뉴 폭만큼 밀기 */
            padding: 40px 40px 80px;
        }

        /* 게시판을 가운데쪽으로 모으기 */
        .board-container {
            max-width: 1000px;
            margin: 0 auto;             /* 가운데 정렬 */
        }

        .table td,
        .table th {
            vertical-align: middle;
        }

        /* 오른쪽 아래 연필 버튼 */
        .write-btn {
            position: fixed;
            right: 2rem;
            bottom: 2rem;
            width: 56px;
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
        }
    </style>
</head>
<body>

<!-- 상단 유틸 바 (메인 페이지와 동일) -->
<div class="bg-dark text-white small py-1">
    <div class="container d-flex justify-content-end gap-3">
        <a href="/" class="link-light text-decoration-none">홈</a>
        <a href="/profile" class="link-light text-decoration-none">내 정보</a>
        <a href="/logout" class="link-light text-decoration-none">로그아웃</a>
    </div>
</div>

<!-- 헤더 + 검색 (메인 페이지와 동일) -->
<header class="border-bottom">
    <div class="container py-3 d-flex align-items-center justify-content-between">
        <a class="navbar-brand fw-bold fs-3 text-primary" href="/">Match-Up</a>

        <form class="d-flex w-50" role="search">
            <input class="form-control form-control-lg rounded-start-pill"
                   type="search" placeholder="팀, 구장, 지역 검색">
            <button class="btn btn-primary btn-lg rounded-end-pill px-4">
                <i class="bi bi-search"></i>
            </button>
        </form>

        <!-- 필요하면 여기 메뉴 버튼, 아니면 삭제해도 됨 -->
        <button class="btn btn-outline-secondary">
            <i class="bi bi-list"></i> 메뉴
        </button>
    </div>

    <!-- 상단 탭: 팀 / 커뮤니티 / 매치 신청 (홈이랑 똑같이 사용) -->
    <div class="border-top">
        <div class="container d-flex gap-4 py-2">
            <a href="/team/board" class="text-decoration-none fw-semibold text-primary">팀</a>
            <a href="/community" class="text-decoration-none text-dark">커뮤니티</a>
            <a href="/match/apply" class="text-decoration-none text-dark">매치 신청</a>
        </div>
    </div>
</header>

<!-- 본문 레이아웃: 왼쪽 팀 메뉴 + 오른쪽 게시판 -->
<div class="d-flex">
    <!-- 왼쪽 팀 메뉴 -->
    <aside class="side-menu">
        <div class="menu-item active" onclick="location.href='/team/board'">팀 게시판</div>
        <div class="menu-item" onclick="location.href='/team/member'">팀 멤버</div>
        <div class="menu-item" onclick="location.href='/team/schedule'">일정표</div>
        <div class="menu-item" onclick="location.href='/team/record'">경기 기록</div>
    </aside>

    <!-- 오른쪽 게시판 영역 -->
    <main class="main-content">
        <div class="board-container">

            <h3 class="fw-bold mb-4">팀 게시판</h3>

            <!-- 게시글 목록 테이블 -->
            <table class="table table-hover">
                <thead class="table-light">
                <tr>
                    <th style="width: 70%">제목</th>
                    <th style="width: 15%">작성자</th>
                    <th style="width: 15%">작성일</th>
                </tr>
                </thead>
                <tbody>
                <!-- 글 목록 -->
                <tr th:each="post : ${posts}">
                    <td>
                        <a th:href="@{|/team/board/${post.id}|}"
                           class="text-decoration-none text-dark"
                           th:text="${post.title}">
                            제목
                        </a>
                    </td>
                    <td th:text="${post.authorName}">작성자</td>
                    <td th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd')}">2025-11-28</td>
                </tr>

                <!-- 글이 없을 때 -->
                <tr th:if="${#lists.isEmpty(posts)}">
                    <td colspan="3" class="text-center text-muted py-4">
                        게시글이 없습니다.
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- 페이지네이션 (한 줄만) -->
            <nav class="mt-3" th:if="${totalPages > 1}">
                <ul class="pagination">
                    <!-- 이전 -->
                    <li class="page-item" th:classappend="${currentPage == 1} ? 'disabled'">
                        <a class="page-link" th:href="@{|/team/board?page=${currentPage - 1}|}">&laquo;</a>
                    </li>

                    <!-- 숫자 버튼 -->
                    <li class="page-item"
                        th:each="i : ${#numbers.sequence(1, totalPages)}"
                        th:classappend="${i == currentPage} ? 'active'">
                        <a class="page-link"
                           th:href="@{|/team/board?page=${i}|}"
                           th:text="${i}">
                            1
                        </a>
                    </li>

                    <!-- 다음 -->
                    <li class="page-item" th:classappend="${currentPage == totalPages} ? 'disabled'">
                        <a class="page-link" th:href="@{|/team/board?page=${currentPage + 1}|}">&raquo;</a>
                    </li>
                </ul>
            </nav>

        </div>
    </main>
</div>

<!-- 오른쪽 아래 연필 버튼 -->
<button class="btn btn-primary rounded-circle shadow write-btn"
        onclick="location.href='/team/board/write'">
    <i class="bi bi-pencil"></i>
</button>

<!-- 푸터(필요하면 메인페이지랑 똑같이 추가) -->
<footer class="bg-dark text-white py-4 mt-5">
    <div class="container small d-flex justify-content-between">
        <div>© 2025 Match-Up</div>
        <div class="text-white-50">
            문의: support@matchup.com
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
