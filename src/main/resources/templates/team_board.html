<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      th:replace="fragments/layout :: layout(~{::content})">
<div th:fragment="content">
    <div class="container py-4">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <div>
                <div class="text-muted small">우리 팀 커뮤니티</div>
                <h4 class="fw-bold m-0">팀 게시판</h4>
                <div class="text-muted small" th:if="${team != null}" th:text="${team.name} + ' 팀 게시판'">팀 이름</div>
            </div>
            <a href="/team/board/new" class="btn btn-primary btn-sm">글쓰기</a>
        </div>

        <div th:if="${hasTeam == false}">
            <div class="empty-state text-center my-5">
                사용자가 속한 팀이 없습니다.
            </div>
        </div>

        <div th:if="${hasTeam == true}">
            <div class="card-box">
                <div class="card-header">
                    <span th:text="${team.name} + ' 게시글'">게시글</span>
                </div>
                <div class="table-responsive">
                    <table class="table table-hover align-middle mb-0">
                        <thead class="table-light">
                        <tr>
                            <th style="width: 80px;">번호</th>
                            <th>제목</th>
                            <th style="width: 140px;">글쓴이</th>
                            <th style="width: 140px;">작성일</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="post, stat : ${posts}">
                            <td th:text="${stat.count}">1</td>
                            <td>
                                <a th:href="@{'/team/board/' + ${post.id}}"
                                   class="text-decoration-none fw-semibold"
                                   th:text="${post.title}">제목</a>
                            </td>
                            <td th:text="${post.authorName}">작성자</td>
                            <td th:text="${#temporals.format(post.createdAt, 'yy-MM-dd')}">25-09-02</td>
                        </tr>
                        <tr th:if="${#lists.isEmpty(posts)}">
                            <td colspan="4" class="text-center text-muted py-4">
                                등록된 게시글이 없습니다.
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>
</div>
</html>
